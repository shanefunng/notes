# BroadcastReceiver
---
### 分类：

1. **标准广播：**
	* 完全异步执行的广播，所有的广播接收器几乎同时收到信息;
	* *优点：*效率比较高;
	* *缺点：*无法被截断。
2. **有序广播：**
	1. 同一时刻只有一个接收器收到这条信息，当接收器处理完毕后，广播才能接着往下传播;
	2. 可以设置优先级，优先级高的可以先收到信息;
	3. 先收到广播的接收器可以用方法 *abortBroadcast()* 截断广播，后面的广播将无法接收到广播。
3. ***粘滞性广播(已废弃)：***因为任何接收器可以接收并修改广播，故已<del>废弃<del>。

### 注册方式：

*  静态注册:在Manifest中使用 *`<receiver>`*方式注册，程序无须启动，即可监听广播。 
*  动态注册：
	* 动态注册的广播接收器可以自由地控制注册与注销;
	* 优点：灵活控制注册与注销;
	* 缺点：因为注册逻辑是在*onCreate()*方法中的，所以必须在程序启动之后才能接收广播。
	
### 注意事项：

* 动态注册的广播必须注销,以释放占有的资源
* 监听系统广播，如系统开机、网络状态改变等需要在*`<Manifest>`*中声明相应的权限，否则程序将直接崩溃
* 在*onReceiver()*方法中不要添加过多的逻辑或者耗时的操作，否则程序会超时报错;广播接收器更多的是扮演一种打开程序其他组件的角色，比如创建一条状态栏通知、启动一个服务

### 本地广播：

* **使用场景：**
标准广播和有序广播都属于系统全局广播，即发出的广播可以被任何程序接收，我们也能接收任何程序发送的广播，这样容易引起安全性的问题，比如我们发送的一些携带关键性数据的广播可能被其他程序截获，或者其他程序不停的向我们发送垃圾广播。
* **使用方式：**

	使用*LocalBroadcastManager*发送广播或者注册广播接收器，而不是用系统的*BroadcastManager*.
* **注意：本地广播接收器无法静态注册，因为既然本地广播已经发送了，我们的程序也肯定启动了**
* **本地广播的优点：**
	1. 本地方式发送的广播不会离开我们的程序，无须担心数据泄漏的问题;
	2. 本地方式注册的广播接收器不会接收其他程序发送的广播，无须担心垃圾广播的问题;
 	3. 发送本地广播比发送系统全局广播更加高效。


